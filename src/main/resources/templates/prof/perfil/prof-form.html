<!doctype html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <title>Meu Perfil • Área do Professor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" th:href="@{/css/styles.css}"/>
</head>
<body>
<nav class="navbar navbar-dark bg-dark">
  <div class="container d-flex justify-content-between">
    <a class="navbar-brand" th:href="@{/prof}">Professor</a>
    <form method="post" th:action="@{/prof/logout}">
      <button class="btn btn-outline-light btn-sm" type="submit">Sair</button>
    </form>
  </div>
</nav>

<main class="container py-4">
  <h1 class="h5 mb-3">Meu Perfil</h1>

  <div class="alert alert-success" th:if="${ok}" th:text="${ok}"></div>
  <div class="alert alert-danger" th:if="${erro}" th:text="${erro}"></div>

  <div class="row g-4">
    <div class="col-12 col-lg-6">
      <form method="post" th:action="@{/prof/perfil/salvar}" class="card p-3">
        <h2 class="h6 mb-3">Dados principais</h2>

        <div class="mb-3">
          <label class="form-label">Nome</label>
          <input class="form-control" name="nome" required th:value="${p.nome}">
        </div>

        <div class="mb-3">
          <label class="form-label">E-mail</label>
          <input class="form-control" type="email" name="email" required th:value="${p.email}">
        </div>

        <div class="mb-3">
          <label class="form-label">Profissão</label>
          <input class="form-control" name="profissao" th:value="${p.profissao}">
        </div>

        <div class="mb-3">
          <label class="form-label">Telefone</label>
          <input class="form-control" name="telefone" th:value="${p.telefone}">
        </div>

        <div class="d-flex justify-content-end">
          <button class="btn btn-primary">Salvar</button>
        </div>
      </form>
    </div>

    <div class="col-12 col-lg-6">
      <form method="post" th:action="@{/prof/perfil/senha}" class="card p-3">
        <h2 class="h6 mb-3">Trocar senha</h2>

        <div class="alert alert-danger" th:if="${erroSenha}" th:text="${erroSenha}"></div>
        <div class="alert alert-success" th:if="${okSenha}" th:text="${okSenha}"></div>

        <div class="mb-3">
          <label class="form-label">Senha atual</label>
          <input class="form-control" type="password" name="senhaAtual" required>
        </div>

        <div class="mb-3">
          <label class="form-label">Nova senha</label>
          <input class="form-control" type="password" name="novaSenha" required minlength="6">
        </div>

        <div class="mb-3">
          <label class="form-label">Confirmar nova senha</label>
          <input class="form-control" type="password" name="confirmaSenha" required minlength="6">
        </div>

        <div class="d-flex justify-content-end">
          <button class="btn btn-warning">Alterar senha</button>
        </div>
      </form>
    </div>
  </div>
</main>
</body>
</html>
